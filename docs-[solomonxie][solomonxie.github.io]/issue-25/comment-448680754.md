# VIM语言脚本入门


## 变量

```vim
"设置变量
let myVariable = 1
let myString = 'Hello'
```

## 逻辑控制

[参考：Comparisons  - Learn Vimscript the Hard Way](http://learnvimscriptthehardway.stevelosh.com/chapters/22.html)

if-else:
```vim
if 3 >= 1
    echo 'True'
elseif 3 < 4
    echo 'True again'
elseif 3 == 3
    echo 'True true'
else
    echo 'False'
endif
```

VIM中的字符串和数字是可以直接比较的，如`:echo '3' >= 3`，返回1.


## Functions 函数

[参考：Functions - Learn Vimscript the Hard Way](http://learnvimscriptthehardway.stevelosh.com/chapters/23.html)

> 函数名必须大写开头。

```vim
function MyFunction()
    :wq
endfunction
```

但是如果重载当前vimrc的话，会遇到`function already exists`警告。
所以最好在将函数定义为可重写的函数，即变为`function!`：
```vim

```vim
function! MyFunction()
    :wq
endfunction
```


## 内置函数

### has(..)

- has('程序语言')
- has('硬件架构')
- has('xxx')


### system(...)

- system('rm /tmp/*')

### buffer

- bufnr('%'): 返回当前VIM中的buffer数量



## autocmd 事件触发器

参考中文的VIM官方文档：http://vimcdoc.sourceforge.net/doc/autocmd.html

格式为：`:au[tocmd] [group] {event} {pat} [nested] {cmd}`
中文的话就是：`:au[tocmd] [组] {事件} {文件名规则} [nested] {命令}`