# WSGI理解

WSGI (Web Server Gateway Interface)，是一种Python官方(PEP 333)制定的一个网络交互规范：客户端 -> HTTP服务器 -> WSGI -> Application(Wordpress/Flask/Django)。反过来发送给客户端也是一样。

每个语言对于网络服务器的处理可能不一样：如同Ruby的Rack。Python使用wsgi，即一种通用的接口标准或者接口协议，实现了python web程序与服务器之间交互的通用性。

wsgi是将HTTP Server的参数进行`Python化`，封装为request对象传递给apllication命名的func对象并接受其传出的response参数，由于其处理了参数封装和结果解析，才有python世界web框架的泛滥，在python下，写web框架就像喝水一样简单。（参考：https://www.zhihu.com/question/19998865/answer/27033737）

有了这个东西，Flask或者django等等的python web开发框架，就可以轻松地部署在不同的web server上了，不需要做任何特殊配置（也需要一些小小的配置调整）

> "如全称代表的那样，WSGI不是服务器，不是API，不是Python模块，更不是什么框架，而是一种服务器和客户端交互的接口规范."

在客户端向服务器发出请求时，HTTP Server服务器接收请求，进行socket、tcp、udp等基层操作，全部验证通过后，再把请求内容发给WSGI。然后WSGI作为一个Python关口，把请求数据全部转换为Python程序能理解的信息，再把这些信息发送给具体的某个app应用，比如Flask，或Django。这时候，Flask等框架接收到的，就是一般的Python化的数据了，而不是网络规范的数据。也就是说，Flask等框架，完全无需考虑Protocols网络协议等东西，专心做好自己的网站就好了。

![image](https://user-images.githubusercontent.com/14041622/48410274-1ee23380-e779-11e8-96f0-df5e585b3722.png)

## WSGI 组件
在WSGI规范下，web组件被分成三类：client, server, and middleware.
