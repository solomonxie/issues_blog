# MongoDB基础

MongoDB是现在最流行的NoSQL数据库之一。区别与别的NoSQL数据库，MongoDB主要是基于Documents文档的。

MongoDB的特点：
- 
- 

## 安装

Ubuntu安装：
```sh
$ sudo apt-get install mongodb-org
```


## 配置

MongoDB的配置文件在`/etc/mongod.conf`。
常用的配置项有：
```ini
# 默认端口27107

# 日志位置 /var/log/mongodb/mongod.log
```


## 常用命令

```sh
# 服务端启动
$ mongod /etc/mongod.conf

# 服务端启停 （Ubuntu上）
$ sudo service mongod start
$ sudo service mongod stop
$ sudo service mongod restart

# 进入客户端
mongo
```

进入mongo客户端后，就进入了shell交互页面了。
常用的命令如下(注意mongodb区分大小写)：
```mongo
-- 显示当前数据库
db

-- 显示所有数据库
show databases
--或
show dbs

-- 切换数据库
use 数据库名

-- 删除当前数据库
db.dropDatabase()
```

## 集合

首先要记住，

MongoDB中，有这么几个概念：
- `Database` 数据库：即一个NoSQL的非关系型数据库
- `Collection` 集合: 即代替传统"表格"概念的一个集合，收集性质相似的一些数据，如员工集合，或产品集合。
- `Document` 文档: 即一个Dict字典类型的数据，或说一份JSON数据。相当于传统数据库的一行record数据。


创建集合：不用手动创建集合，当第一条数据插入时，集合自动就生成了。当然，手动创建也是可以的：
```mongo
db.createCollection( "集合名", {各种属性设置} )
# 如 (capped表示是否设置容量上限)
db.createCollection( "Products", {capped: true, size: 1000} )

# 查看所有集合
show collections

# 删除集合
db.集合名称.drop()
```



## 数据类型

在MongoDB中的一个Document，即一个JSON格式的文档中，每个值都是要指定数据类型的。
现有数据类型如下：
- `Object ID`：文档ID，相当于传统表中的表主键ID，给这份文档一个唯一的ID。
- `String`
- `Boolean`
- `Integer`
- `Double`
- `Array`：列表，可以存储多个值。
- `Object`：可以嵌套另一个子Document文档，或说JSON数据。
- `Timestamp`
- `Date`
- `Null`