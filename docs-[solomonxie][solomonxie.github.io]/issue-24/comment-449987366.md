# ❖ Python yield详解 [DRAFT]

[参考：Python yield 使用浅析 - IBM](https://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/index.html)

## 简单的使用yield

```py
def fab(max): 
    n, a, b = 0, 0, 1 
    while n < max: 
        yield b
        a, b = b, a + b 
        n = n + 1 

for n in fab(5): 
    print n 
```


## 递归中使用yield

有时候yield就可以解决递归的问题，但是有时候解决不了，还是要用递归。然后递归的同时还想达到yield的效果，就需要动点脑子了。

[参考：Recursion using yield](https://stackoverflow.com/questions/8991840/recursion-using-yield)

```py
def recursion(self, num):
    result = num**2
    yield result
    if num < 100:
        yield from self.recursion(result)

for rec in recursion(100):
    print( rec )
```


## 理解yield

一般只觉得yield可以用作生成一个列表迭代器。
但实际上，在处理`网络高并发I/O阻塞`问题上，也可以用到yield。

这个关键词的功能是：
每次解析器遇到`yield`关键词，它所在的Function函数就卡住不再运行之后的内容了，直到你在外部调用`*.next()`方法。

虽然上面我们一次都没有写`*.next()`调用，但本质上`for n in [1,2,3]`这种`in`的方法就是在背后帮你一次一次地调用`*.next()`方法。