# `Tmux Like a Boss`

[进阶参考：10 Killer Tmux Tips](https://www.sitepoint.com/10-killer-tmux-tips/)

## Tmux会话自动保存
Tmux会话是整个tmux中最最最重要的东西。在tmux中创建多个window，且合理分配窗格，是让tmux运用如飞的核心。但是关机重启电脑后tmux-server服务器也重启了，session就会消失。这绝对是不能允许的，因为一次重启就让之前所有的窗格设计全消失肯定不行。

所以，tmux的会话保存是tmux 101第一课。
这里主要就是用两个插件：`tmux-resurrect`保存会话，然后加上`tmux-continuum`来自动保存运行resurrect。

### `tmux-resurrect`
[参考Github: tmux-resurrect](https://github.com/tmux-plugins/tmux-resurrect)

由于tmux不能持久保存session的特性，我们需要安装这个插件来将session的设置完全保存到本地，然后重启后也能够快速恢复窗口等设置的内容。
首先在`~/.tmux.conf`文件的`List of plugins`部分加入这句话：
```
set -g @plugin 'tmux-plugins/tmux-resurrect'
```
保存好后，在tmux的任意窗口按`<前缀键>I` (注意是大写的i)，即可完成下载安装。

用法:
- `<前缀键>Ctrl-s` - 保存session
- `<前缀键>Ctrl-r` - 恢复session

重要缺陷：
- 不能自动保存session，忘记手动保存的话，重启后就会消失
- 很多内置功能(鼠标支持)和插件只支持Tmux 2.1版本，像树莓派这样只能装tmux 1.9的就不能用

Bug发现：
- 以下这两个tmux的配置语句一定要慎用慎用！因为很容易产生所有窗格出现各种错乱，非常麻烦。而且为了保存命令历史和屏幕内容，会在本地生成大批量文件甚至包括压缩包
```sh
set -g @resurrect-save-bash-history 'on'  # 保存命令历史
set -g @resurrect-capture-pane-contents 'on'  # 保存屏幕内容
```

对于自动保存的问题，tmux-resurrect官方推荐另一个插件：`tmux-continuum`。非常好用，定期自动帮你保存session，电脑关机重启的话，打开tmux后会第一时间恢复上一次的session。

### `tmux-continuum`
[参考Github： tmux-continuum](https://github.com/tmux-plugins/tmux-continuum)


### `tmuxinator`
网上几乎所有人都在说这个是tmux的最佳伴侣。
但是我看了一圈后发现这几个一开始就不让人喜欢的特性：
- 必须在系统基础上安装单独的软件`tmuxinator`
- 重度依赖Ruby环境
- 所有window的设计都必须手动写Yaml文档来创建
- 包括每个窗格的大小都要在配置文件里写入数字来保存

看到这里，我就放弃了安装它的念头了。


## Tmux常用插件集合

### `tmux-sensible`


### `tmux-yank`
